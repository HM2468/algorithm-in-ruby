module Algorithms
  module LinkedStack
=begin
  LeetCode 20ï¼š
  ç»™ä¸€ä¸ªåªåŒ…å« ( ) { } [ ] çš„å­—ç¬¦ä¸² sï¼Œåˆ¤æ–­è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯â€œæœ‰æ•ˆçš„â€ï¼š
  ä»»æ„å·¦æ‹¬å·ï¼Œéƒ½å¿…é¡»ç”±åŒç±»å‹çš„å³æ‹¬å·é—­åˆï¼›
  æ‹¬å·å¿…é¡»æ­£ç¡®åµŒå¥—ï¼Œä¸èƒ½äº¤å‰ï¼›
  æ¯”å¦‚ï¼š
  âœ… â€œ()â€, â€œ()[]{}â€, â€œ{[]}â€
  âŒ â€œ(]â€, â€œ([)]â€, â€œ(â€, â€œ(((â€
  æ‰€ä»¥æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯åˆ¤æ–­åŒ¹é… & åµŒå¥—æ˜¯å¦æ­£ç¡®ã€‚

  æ€è·¯ï¼š
  1.  é‡åˆ°å·¦æ‹¬å·ï¼š( [ {
      ğŸ‘‰ å‹æ ˆï¼ˆpushï¼‰
  2.  é‡åˆ°å³æ‹¬å·ï¼š) ] }
      ğŸ‘‰ å¿…é¡»å’Œ`æ ˆé¡¶`é‚£ä¸ªå·¦æ‹¬å·åŒ¹é…ï¼š
      - å¦‚æœæ ˆæ˜¯ç©ºçš„ï¼šè¯´æ˜å½“å‰å³æ‹¬å·æ²¡æœ‰å¯¹åº”çš„å·¦æ‹¬å· â†’ ç›´æ¥è¿”å› false
      - å¦‚æœæ ˆä¸ç©ºï¼šå¼¹å‡ºæ ˆé¡¶ï¼Œå¦‚æœç±»å‹ä¸åŒ¹é… â†’ è¿”å› false
  3.  æ‰«æå®Œå­—ç¬¦ä¸²åï¼š
      - å¦‚æœæ ˆæ˜¯ç©ºçš„ â†’ æ‰€æœ‰å·¦æ‹¬å·éƒ½åˆšå¥½è¢«åŒ¹é… â†’ è¿”å› true
      - å¦‚æœæ ˆä¸ç©º â†’ è¯´æ˜æœ‰å¤šä½™çš„å·¦æ‹¬å· â†’ è¿”å› false
  ä¸ºä»€ä¹ˆç”¨æ ˆï¼Ÿ
  - æ‹¬å·çš„åŒ¹é…æ˜¯åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„ç»“æ„ï¼š
      - `({[]})` é‡Œæœ€æ—©å‡ºç°çš„å·¦æ‹¬å· (ï¼Œæ˜¯æœ€åæ‰è¢« ) å…³ä¸Šçš„ã€‚
      - æœ€åè¿›å»çš„ [ï¼Œæœ€å…ˆè¢« ] å…³æ‰ã€‚
  - è¿™æ­£å¥½å°±æ˜¯æ ˆçš„è¡Œä¸ºæ¨¡å¼ï¼šæœ€åå‹è¿›æ¥çš„ï¼Œæœ€å…ˆå¼¹å‡ºå»ã€‚
=end

    def valid_parentheses?(s)
      stack = Stack.new
      mapping = { ')' => '(', ']' => '[', '}' => '{' }

      s.each_char do |char|
        if mapping.values.include?(char)
          # å·¦æ‹¬å·ï¼Œå‹æ ˆ
          stack.push(char)
        elsif mapping.keys.include?(char)
          # å³æ‹¬å·ï¼Œæ£€æŸ¥åŒ¹é…
          return false if stack.empty?

          top = stack.pop
          return false if top != mapping[char]
        end
      end

      stack.empty?
    end

  end
end